<template>
  <require from="./grid.css"></require>
    <table id="table-main">
      <thead>
        <tr>
          <th class="check-box" if.bind="gridSettings.allowRowSelection">
            <input type="checkbox" change.delegate="selectAllRecords()" checked.bind="allSelected">
          </th>
          <th id="column-headers" class="${convertToHtmlFriendlyText(column.name)} grid-header" click.delegate="clickedHeader(column)" repeat.for="column of columnHeaders">
            <div id="column-headers-resize">
              <span>${column.name}</span>
              <i if.bind="(column.sort)" class="${(column.sort === 'ascending') ? 'fas fa-sort-up' : 'fas fa-sort-down'}"></i>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr class="${record.clicked ? 'selected' : ''}" virtual-repeat.for="record of records" click.delegate="clickedRow($event, record)">
          <td class="check-box" if.bind="gridSettings.allowRowSelection">
            <input id="select-row" type="checkbox" click.delegate="selectRow(record)" checked.bind="record.selected">
          </td>
          <td repeat.for="column of columnHeaders">
            <span>${record[column.name]}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </template>
